{"version":3,"file":"jcc2d.axes.module.js","sources":["../src/index.js"],"sourcesContent":["import { Point } from 'jcc2d';\n/**\n * 坐标系\n * @param {object} options 初始化配置\n */\nfunction Axes(options) {\n  options = options || {};\n  this.segment = options.segment || 20;\n  this.size = options.size || 400;\n  this.jutting = options.jutting || 50;\n  this.gridWeight = options.gridWeight || 0.2;\n  this.axesWeight = options.axesWeight || 1;\n\n  const c = this.segment >> 1;\n  this.origin = options.origin || new Point(c, c);\n  this.gridColor = options.gridColor || '#444a61';\n  this.axisColor = options.axisColor || '#646794';\n}\n\nAxes.prototype.render = function(ctx) {\n  this._renderGrid(ctx);\n  this._renderAxes(ctx);\n};\n\nAxes.prototype._renderAxes = function(ctx) {\n  const s = this.jutting;\n  const l = this.size;\n  const e = s + l;\n  const ax = 6;\n  const ay = 12;\n  const ox = l * this.origin.x / this.segment;\n  const oy = l * this.origin.y / this.segment;\n\n  ctx.beginPath();\n  ctx.moveTo(0, s + oy);\n  ctx.lineTo(0, -e + oy);\n  ctx.moveTo(-ax, -e + ay + oy);\n  ctx.lineTo(0, -e + oy);\n  ctx.lineTo(ax, -e + ay + oy);\n\n  ctx.moveTo(-s - ox, 0);\n  ctx.lineTo(e - ox, 0);\n  ctx.moveTo(e - ay - ox, ax);\n  ctx.lineTo(e - ox, 0);\n  ctx.lineTo(e - ay - ox, -ax);\n\n  ctx.strokeStyle = this.axisColor;\n  ctx.lineWidth = this.axesWeight;\n  ctx.stroke();\n};\n\nAxes.prototype._renderGrid = function(ctx) {\n  const size = this.size;\n  const seg = this.segment;\n  const ox = size * this.origin.x / this.segment;\n  const oy = size * this.origin.y / this.segment;\n\n  ctx.beginPath();\n  ctx.lineWidth = this.gridWeight;\n  for (let i = 0; i <= this.segment; i++) {\n    const step = i * size / seg;\n    ctx.moveTo(step - ox, 0 + oy);\n    ctx.lineTo(step - ox, -size + oy);\n    ctx.moveTo(0 - ox, -step + oy);\n    ctx.lineTo(size - ox, -step + oy);\n  }\n  ctx.strokeStyle = this.gridColor;\n  ctx.stroke();\n};\n\nexport { Axes };\n"],"names":["Axes","options","segment","size","jutting","gridWeight","axesWeight","c","origin","Point","gridColor","axisColor","prototype","render","ctx","_renderGrid","_renderAxes","s","l","e","ax","ay","ox","x","oy","y","beginPath","moveTo","lineTo","strokeStyle","lineWidth","stroke","seg","i","step"],"mappings":"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"}